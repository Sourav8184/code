@Get('/authors')
async getAuthorsWithBooks(): Promise<Author[]> {
  return this.authorRepository.find({
    include: [{ relation: 'books' }],
  });
}




@Get('/books')
async getBooksWithDetails(): Promise<Book[]> {
  return this.bookRepository.find({
    include: [{ relation: 'author' }, { relation: 'category' }],
  });
}




@Get('/categories')
async getCategoriesWithBooks(): Promise<Category[]> {
  return this.categoryRepository.find({
    include: [{ relation: 'books' }],
  });
}
